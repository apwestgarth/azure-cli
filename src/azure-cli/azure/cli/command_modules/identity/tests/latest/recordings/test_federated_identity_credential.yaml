interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001","name":"cli_test_federated_identity_credential_000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","test":"test_federated_identity_credential","date":"2025-08-12T18:09:41Z","module":"identity"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: E14819CBED264A5085EBF8454D700314 Ref B: SN4AA2022301017 Ref C: 2025-08-12T18:09:44Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '29'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide?api-version=2024-11-30
  response:
    body:
      string: '{"location":"centraluseuap","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide","name":"ide","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"isolationScope":"None","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"74ad8aba-506c-4b04-8140-824354488d8a","clientId":"99dfb338-9a91-4f06-8d85-a6b53902e2f3"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '484'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:47 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/80dc4241-c38e-4eb0-ab53-c79185b720e9
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 0696CF56FA424A25A90D834A6C473A33 Ref B: SN4AA2022303009 Ref C: 2025-08-12T18:09:44Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0",
      "subject": "system:serviceaccount:ns:svcaccount1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '201'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '513'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:49 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/c064decb-85e3-42e2-a8a4-fce7a600b624
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 0E7D3B35FA504D7A9438A2D1D17DC59B Ref B: SN4AA2022304025 Ref C: 2025-08-12T18:09:48Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0",
      "subject": "system:serviceaccount:ns:svcaccount2"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '201'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '513'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:51 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/987da43d-9ce6-447d-b836-fa31dc6afb54
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 3981515B523240C8B24FEDA99CAF3898 Ref B: SN4AA2022305037 Ref C: 2025-08-12T18:09:49Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "claimsMatchingExpression":
      {"languageVersion": 1, "value": "claims[''sub''] eq ''foo''"}, "issuer": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '237'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:53 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/75052d6e-67a4-42a6-b484-28e148d00271
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 3119CA7063C34AA18A8ACE145AE084FE Ref B: SN4AA2022305037 Ref C: 2025-08-12T18:09:51Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '513'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/6a782d40-834a-4d3b-84de-77564187b11c
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: F5EAE36BB9B648A9A4E2387803CA87B1 Ref B: SN4AA2022304023 Ref C: 2025-08-12T18:09:53Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/2ef7d2ea-2bed-485b-babc-2d0e3848c7f1
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 627E008F37E049D2BAFF43F0A8263907 Ref B: SN4AA2022304019 Ref C: 2025-08-12T18:09:54Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1586'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/01a5898a-d859-4859-a3e4-1ac7f72f81a9
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 339563BD0ED24B7F85061E4334169AAD Ref B: SN4AA2022302031 Ref C: 2025-08-12T18:09:55Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '513'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/4a7336a2-e603-404c-a1ab-34543c8f97ff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 0F47254095F048EEBA8658CBCA0EABCB Ref B: SN4AA2022301029 Ref C: 2025-08-12T18:09:55Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0",
      "subject": "system:serviceaccount:ns:newaccount"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      Content-Length:
      - '200'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:newaccount","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '512'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/5cfac1ba-92be-4fb9-b165-79070c01aa02
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 297910BD7CDE470FB589ECC6340D0E5C Ref B: SN4AA2022305045 Ref C: 2025-08-12T18:09:56Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/68b39062-8497-4679-ac4a-217001427726
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 3A402FA8330948E28A3E9C0D11096B55 Ref B: SN4AA2022304033 Ref C: 2025-08-12T18:09:58Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "claimsMatchingExpression":
      {"languageVersion": 1, "value": "claims[''sub''] eq ''updatedFoo''"}, "issuer":
      "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      Content-Length:
      - '244'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''updatedFoo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '553'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:09:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/8c44e2c0-ee74-4552-93c4-681bff9f54e9
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: CFF956DC29554F539E2DA20919BFF72E Ref B: SN4AA2022305049 Ref C: 2025-08-12T18:09:59Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 12 Aug 2025 18:10:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/5ac73e6d-1ad5-440a-a29b-ba39f6e01386
      x-ms-ratelimit-remaining-subscription-deletes:
      - '799'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '11999'
      x-msedge-ref:
      - 'Ref A: 97E3C47057334621AF97319D6F7156C7 Ref B: SN4AA2022303029 Ref C: 2025-08-12T18:10:00Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''updatedFoo''"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1079'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:10:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/44f8183a-eae5-4d5f-aa6e-ba48b67efa3d
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 9B425C5DDE134F3DBCBD05A2F38D6C7D Ref B: SN4AA2022302039 Ref C: 2025-08-12T18:10:01Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0",
      "subject": "system:serviceaccount:ns:svcaccount4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '201'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4","name":"fic4","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0","subject":"system:serviceaccount:ns:svcaccount4","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '513'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:10:03 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/13dd5053-b44c-4fa2-b1eb-3f160eb8ef96
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '11999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '799'
      x-msedge-ref:
      - 'Ref A: 3DC803E1394F4C9CBB73AFC874B0EBBC Ref B: SN4AA2022302009 Ref C: 2025-08-12T18:10:02Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 12 Aug 2025 18:10:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/0ad01291-568b-4c50-b086-a3c81093c2d3
      x-ms-ratelimit-remaining-subscription-deletes:
      - '799'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '11999'
      x-msedge-ref:
      - 'Ref A: 35FD3092772A496DB9F4A4BFF975B939 Ref B: SN4AA2022305033 Ref C: 2025-08-12T18:10:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 12 Aug 2025 18:10:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/5d5da5ef-ad42-4d5b-a0a6-f419095b51bf
      x-ms-ratelimit-remaining-subscription-deletes:
      - '799'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '11999'
      x-msedge-ref:
      - 'Ref A: BA87CBE09DEF446AA0F5832F758AE1CC Ref B: SN4AA2022304021 Ref C: 2025-08-12T18:10:05Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 12 Aug 2025 18:10:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/9d1054d3-b00b-49ab-a425-21daaa6f7cf3
      x-ms-ratelimit-remaining-subscription-deletes:
      - '799'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '11999'
      x-msedge-ref:
      - 'Ref A: B1B3592D7D3F460BA6C5CC34D871E141 Ref B: SN4AA2022301027 Ref C: 2025-08-12T18:10:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.76.0 azsdk-python-core/1.35.0 Python/3.13.6 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 12 Aug 2025 18:10:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47,objectId=e8f6ebae-1244-4e78-847b-144f815ff0f0/southcentralus/7ec9e97f-279d-49ff-98b3-87be5095e2a6
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '16499'
      x-msedge-ref:
      - 'Ref A: 85208B8F1C984C9B8A8031788CCE8DE2 Ref B: SN4AA2022304019 Ref C: 2025-08-12T18:10:07Z'
    status:
      code: 200
      message: OK
version: 1
